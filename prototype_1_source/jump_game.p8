pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- pico-8 prototype i - "jump cube"
-- by actuallykron

-- actuallykron.itch.io/jump-cube-pico-8

-- most the code here is mine
-- but some isn't.
-- i've tried to comment and credit
-- the original authors, where i could remember

player = {x=60,y=60,w=8, h=8, y_force=0}
coin = {x=10, y=10, w=5, h=5}

score = 0
previous_score = 0
highscore = 0

game_started = false

-- overlap code from here:
-- mboffin.itch.io/pico8-overlap

function overlap(a,b)

 local test1 = a.x > (b.x + b.w)
 local test2 = a.y > (b.y + b.h)
 local test3 = (a.x + a.w) < b.x
 local test4 = (a.y + a.h) < b.y

 return not (test1 or test2 or test3 or test4)

end
	
-- hcenter code from here:
-- pico-8.fandom.com/wiki/centering_text

function hcenter(s)
  return 64-#s*2
end

function handle_movement()

		if (btnp(2)) then
		 player.y_force = -8
	 end
		
		if (btn(0)) then player.x=player.x-3 end
		if (btn(1)) then player.x=player.x+3 end
			
		-- apply gravity
		if player.y_force < 5 then
		 player.y_force = player.y_force+1
	 end 
	 
end

function game_over()
	
	if score > highscore then
		highscore = score
	end

	sfx(01) -- play death sound
	game_started = false
	player.x = 60
	player.y = 60
	player.y_force = 0
	score = 0

end

	-- all this wave function code
	-- is from the "hello" demo

function wave()
	
	-- for each color
	-- (from pink -> white)
	
	for col = 14,7,-1 do
		
		-- for each letter
		for i=1,9 do
		
			-- t() is the same as time()
			t1 = t()*30 + i*4 - col*2
			
			-- position
			x = 24+i*8     +cos(t1/90)*3
			y = 20+(col-7)+cos(t1/50)*5
			pal(7,col)
			spr(16+i, x, y)
		end
 end
end

function _update()

	-- check if player overlaps coin

	if overlap(player,coin) then
		sfx(00) -- play collect sound
		score = score + 1
		coin.x = (flr(rnd(122)))
		coin.y = (flr(rnd(122)))
	
	end
	
	if game_started == false then
		if (btnp(2)) then
			coin.x = (flr(rnd(122)))
			coin.y = (flr(rnd(122)))
			game_started = true
			end
	end

	if game_started == true then
		handle_movement()
	end
		
	if game_started == true then	
		player.y=player.y+player.y_force
	end
	
	if player.y < -10 or player.y > 138 then game_over() end
	
	if player.x < -10 or player.x > 138 then game_over() end
	
end

function _draw()
	cls(0)

	if game_started == true then
		rect(0, 0, 127, 127, 8)
		spr(1,player.x,player.y)
		spr(2, coin.x, coin.y)
		-- score title & backdrop
		print('score',hcenter("score"), 4, 5)
		print('score',hcenter("score"), 3, 7)		
		-- score text & backdrop
		print(score, hcenter(tostr(score)), 12, 5)
		print(score, hcenter(tostr(score)), 11, 7)
	
	end
	
	if game_started == false then
		wave()
		start_text = "press ⬆️ to play"
	--	print(start_text, hcenter(tostr(start_text)), 56, 5)	
		print(start_text, hcenter(tostr(start_text)), 55, 7)

		highscore_text = "highsc0re: " ..highscore
	--	print(highscore_text, hcenter(tostr(highscore_text)), 64, 5)
		print(highscore_text, hcenter(tostr(highscore_text)), 63, 7)

		credit_text = "p8-prototype i"
		print(credit_text, hcenter(tostr(credit_text)), 112)
		credit_text2 = "by actuallykron"
		print(credit_text2, hcenter(tostr(credit_text2)), 120)

	end

end

-- that's it, you looked through
-- all of my terrible code
-- hope it helped you, somehow
-- love, kron <3
__gfx__
00000000ccccccccaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700ccccccccaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000ccccccccaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000ccccccccaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777000007070000077700000777000000000000077700000707000007700000077700000000000000000000000000000000000000000000000000000
00000000070000007070000077700000707000000000000070000000707000007070000070000000000000000000000000000000000000000000000000000000
00000000070000007070000077700000777000000000000070000000707000007700000077700000000000000000000000000000000000000000000000000000
00000000070000007070000070700000700000000000000070000000707000007070000070000000000000000000000000000000000000000000000000000000
00000000770000007770000070700000700000000000000077700000777000007700000077700000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000007770000707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000008780000707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000799000797900077780000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000079a000797900077780000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000077900007779b007778b000999a00000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000889b0008889b007878b000777a00000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000009900000999b007878bd00797ad0000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000aacc000aaab000ababd00777cd0000000000000000000000000000000000007770000000000000000000000000000000
000000000000000000000000000000000bc00000bbb0000bdbd007addd00000000000ddde0000000000000000000007000000000000000000000000000000000
00000000000000000000000000000000bbc00000ccce000cdcd007cdee0000000000077700000000000007700000087770000000000000000000000000000000
000000000000000000000000000000000dcd0000dede0000d0d0000d00000000000007e000000707000007870000087000000000000000000000000000000000
000000000000000000000000000000000cc00000ddde0000e0e0000e00000000000007e000000707000007780000087770000000000000000000000000000000
0000000000000000000000000000000000dee0000e0e00000000000000000000000007dde000070700000787000008aa00000000000000000000000000000000
0000000000000000000000000000000000de00000eee000000000000000000000000077700000707000007780000088800000000000000000000000000000000
000000000000000000000000000000000dde000000000000000000000000000000000000000007770000088b000009aa00000000000000000000000000000000
00000000000000000000000000000000000e00000000000000000000000000000000000000000999000009b90000099900000000000000000000000000000000
0000000000000000000000000000000000ee000000000000000000000000000000000000000000000000099b00000aaa00000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000bb000000bdd00000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bbb00000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ddd00000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000007770777077700770077000000777770000007770077000007770700077707070000000000000000000000000000000
00000000000000000000000000000000007070707070007000700000007770777000000700707000007070700070707070000000000000000000000000000000
00000000000000000000000000000000007770770077007770777000007700077000000700707000007770700077707770000000000000000000000000000000
00000000000000000000000000000000007000707070000070007000007700077000000700707000007000700070700070000000000000000000000000000000
00000000000000000000000000000000007000707077707700770000000777770000000700770000007000777070707770000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000007070777007707070077007707770777077700000000077700000000000000000000000000000000000000000
00000000000000000000000000000000000000007070070070007070700070007070707070000700000070700000000000000000000000000000000000000000
00000000000000000000000000000000000000007770070070007770777070007070770077000000000070700000000000000000000000000000000000000000
00000000000000000000000000000000000000007070070070707070007070007070707070000700000070700000000000000000000000000000000000000000
00000000000000000000000000000000000000007070777077707070770007707770707077700000000077700000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000077707770000077707770077077700770777070707770777000007770000000000000000000000000000000000000
00000000000000000000000000000000000070707070000070707070707007007070070070707070700000000700000000000000000000000000000000000000
00000000000000000000000000000000000077707770777077707700707007007070070077707770770000000700000000000000000000000000000000000000
00000000000000000000000000000000000070007070000070007070707007007070070000707000700000000700000000000000000000000000000000000000
00000000000000000000000000000000000070007770000070007070770007007700070077707000777000007770000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000007770707000007770077077707070777070007000707070707770077077000000000000000000000000000000000000
00000000000000000000000000000000007070707000007070700007007070707070007000707070707070707070700000000000000000000000000000000000
00000000000000000000000000000000007700777000007770700007007070777070007000777077007700707070700000000000000000000000000000000000
00000000000000000000000000000000007070007000007070700007007070707070007000007070707070707070700000000000000000000000000000000000
00000000000000000000000000000000007770777000007070077007000770707077707770777070707070770070700000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__gff__
0002040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000200002f0601600017500240001b5001d5000c00020500215000b000235002350024500255002550026500275002750027500275000d50024500205001e5001a50014500035000000000000000000000000000
000600001c3500f350093500435001350013400133001320013100030000300003000030000300003000030000300003000030000300003000030000300003000030000300003000030000300003000030000300
